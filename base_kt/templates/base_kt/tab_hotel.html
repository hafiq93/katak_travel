<!-- tabs.html -->
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <title>Dynamic Tabs with Rows</title> -->
    <link href="{% static 'src/styles.css' %}" rel="stylesheet">
</head>
<body>
    <div class="w-full grid gap-4 pb-2">
        <div class="w-full md:w-auto  bg-gray-50 mx-auto rounded-lg pb-1">
            
            <!-- Tabs -->
            <ul class="flex flex-wrap justify-center pt-1 space-x-0 space-y-2 sm:space-y-0 sm:space-x-2 px-2">
                <li>
                    <a href="{% url 'home' %}" class=" tab-link inline-block py-2 px-4 text-white font-semibold border-transparent rounded-lg custom-bg" data-tab="hotel">
                        <i class="fas fa-hotel mr-2"></i>Hotel
                    </a>
                </li>
                <!-- <li>
                    <a href="javascript:void(0)" class="tab-link inline-block py-2 px-4 text-blue-600 font-semibold border-transparent rounded-lg " data-tab="flight"><i class="fa fa-plane mr-2"></i>FLIGHT</a>
                </li>
                <li>
                    <a href="javascript:void(0)" class="tab-link inline-block py-2 px-4 text-blue-600 font-semibold  border-transparent rounded-lg " data-tab="train"><i class="fa fa-train mr-2"></i>TRAIN</a>
                </li> -->
                 <!-- Main Category -->
                 <li>
                    <a href="" class="tab-link inline-block py-2 px-4 text-blue-600 font-semibold border-transparent rounded-lg custom" data-tab="sea-transport">
                        <i class="fa fa-ship mr-2"></i>Sea Transport
                    </a>
                </li>
                <li>
                    <a href="" class="tab-link inline-block py-2 px-4 text-blue-600 font-semibold border-transparent rounded-lg custom" data-tab="rental">
                        <i class="fa fa-car mr-2"></i>Car Rentals
                    </a>
                </li>
                <li>
                    <a href="" class="tab-link inline-block py-2 px-4 text-blue-600 font-semibold border-transparent rounded-lg custom" data-tab="attrac">
                        <i class="fa fa-camera-retro mr-2"></i>Attractions
                    </a>
                </li>
                <li>
                    <a href="" class="inline-block py-2 px-4 text-blue-600 font-semibold border-transparent rounded-lg custom ">
                       <i class="fas fa-suitcase mr-2"></i>Packages
                    </a>
                </li>
            </ul>
        </div>
        
        
    </div>

    <div class="w-full grid gap-4 pb-4">
        <div class="w-full lg:w-4/5 md:w-4/6   mx-auto">
            <!-- Tab Content -->
            <div id="tab-content">
                <!-- Hotel Content -->
                <div class="tab-content bg-gray-50 p-4 rounded-lg shadow-md" data-tab="hotel" >
                    <div class="grid grid-cols-8 gap-2 pt-1 items-center">
                        <div class="col-span-2">
                            <p for="hotel" class=" px-2 text-left font-semibold color-text">Destination</p>
                        </div>
                        <div class="col-span-2">
                            <p for="dateRange" class=" px-2 text-left font-semibold color-text">Check-in & Check-out</p>
                        </div>
                        <div class="col-span-1">
                            <p for="duration" class=" px-2 text-left font-semibold color-text">Duration</p>
                        </div>
                        <div class="col-span-2">
                            <p for="duration" class=" px-2 text-left font-semibold color-text">Customer</p>
                        </div>
                        
                    </div>
                   
                   
                    <div class="grid grid-cols-8 gap-2 pt-2 items-center">
                
                        <!-- Input Field for Destination -->
                        <div class="col-span-2 relative">
                            <input 
                                class="w-full p-3 border-2 custom-border rounded-xl focus:ring-2 focus:ring-blue-500 focus:outline-none"
                                id="hotel" name="hotel" placeholder="Enter destination" type="text"
                            >
                            <!-- Dropdown List for Autocomplete Suggestions -->
                            <ul id="suggestions" class="hidden"></ul>
                        </div>
                    
                       <!-- Date Range Column -->
                        <div class="col-span-2">
                            <!-- <label for="dateRange" class="block text-gray-800 font-semibold mb-2">Check-in & Check-out</label> -->
                            <input class="w-full p-3 custom-border border-2 rounded-xl focus:ring-2 focus:ring-blue-500 focus:outline-none"
                                id="dateRange" name="dateRange" placeholder="Select Check-in and Check-out" type="text">
                        </div>

                        <div class="col-span-1">
                            <!-- <label for="duration" class="block text-gray-800 font-semibold mb-2">Duration</label> -->
                            <input class="w-full p-3 custom-border border-2 rounded-xl focus:ring-2 focus:ring-blue-500 focus:outline-none bg-gray-300"
                                   id="duration" name="duration" placeholder="0 days" type="text" style="text-align: center;" disabled>
                        </div>
                
                        <!-- Another customer Column for hotel-->
                        <div class="col-span-2 relative">
                            <!-- Input Field -->
                            <input 
                                class="w-full p-3 border-2 custom-border rounded-xl focus:ring-2 focus:ring-blue-500 focus:outline-none cursor-pointer"
                                id="roomDetails" name="roomDetails" readonly value="1 Room, 2 Adults, 0 Children"
                                onclick="toggleDropdown()"
                            >
                            
                            <!-- Dropdown List for Room, Adult, and Child Selection -->
                            <div id="roomDropdown" class="absolute z-10 w-full bg-white border border-gray-200 rounded-lg shadow-lg mt-2 hidden">
                                <!-- Room Selector -->
                                <div class="flex items-center justify-between p-3 border-b">
                                    <span>Rooms</span>
                                    <div class="flex items-center">
                                        <button type="button" class="decrease-room bg-gray-200 p-2 rounded-lg" onclick="updateCount('room', -1)">-</button>
                                        <input type="text" id="roomCount" value="1" class="w-12 text-center mx-2 p-2 border-2 rounded-xl" readonly>
                                        <button type="button" class="increase-room bg-gray-200 p-2 rounded-lg" onclick="updateCount('room', 1)">+</button>
                                    </div>
                                </div>
                                <!-- Adult Selector -->
                                <div class="flex items-center justify-between p-3 border-b">
                                    <span>Adults</span>
                                    <div class="flex items-center">
                                        <button type="button" class="decrease-adult bg-gray-200 p-2 rounded-lg" onclick="updateCount('adult', -1)">-</button>
                                        <input type="text" id="adultCount" value="2" class="w-12 text-center mx-2 p-2 border-2 rounded-xl" readonly>
                                        <button type="button" class="increase-adult bg-gray-200 p-2 rounded-lg" onclick="updateCount('adult', 1)">+</button>
                                    </div>
                                </div>
                                <!-- Children Selector -->
                                <div class="flex items-center justify-between p-3 border-b">
                                    <span>Children</span>
                                    <div class="flex items-center">
                                        <button type="button" class="decrease-child bg-gray-200 p-2 rounded-lg" onclick="updateCount('child', -1)">-</button>
                                        <input type="text" id="childCount" value="0" class="w-12 text-center mx-2 p-2 border-2 rounded-xl" readonly>
                                        <button type="button" class="increase-child bg-gray-200 p-2 rounded-lg" onclick="updateCount('child', 1)">+</button>
                                    </div>
                                </div>
                                <!-- Dynamic Child Age Dropdowns -->
                                <div id="childAgeContainer" class="p-3"></div>
                                
                                <!-- Done Button -->
                                <div class="p-3">
                                    <button class="w-full bg-blue-500 text-white p-3 rounded-lg" onclick="doneSelection()">Done</button>
                                </div>
                            </div>
                        </div>
                        

                        <div class="col-span-1">
                           
                                <a href="{% url 'main_hotel' %}" class="w-full">
                                    <button class="w-full p-3 custom-border border-2 rounded-xl text-white font-semibold focus:outline-none custom-bg" id="durationh" name="durationh">
                                        Search
                                    </button>
                                </a>
                        </div>
                    </div>
                </div>


      

                 <!-- SEA TRANSPORT Content -->
                <div class="tab-content hidden border bg-gray-50 p-4 rounded-lg shadow-md" data-tab="sea-transport">
                    <ul class="flex space-x-4 mb-4">
                        <!-- Sub-Tabs -->
                        <li>
                            <a href="javascript:void(0)" class="sub-tab-link inline-block py-2 px-4 text-blue-600 font-semibold border-transparent rounded-lg active-sub-tab  transition-all" data-sub-tab="ferry">
                                <i class="fa fa-ship mr-2"></i>Ferry
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0)" class="sub-tab-link inline-block py-2 px-4 text-blue-600 font-semibold border-transparent rounded-lg  transition-all" data-sub-tab="roro">
                                <i class="fa fa-ship mr-2"></i>Roro
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0)" class="sub-tab-link inline-block py-2 px-4 text-blue-600 font-semibold border-transparent rounded-lg  transition-all" data-sub-tab="cruise">
                                <i class="fa fa-ship mr-2"></i>Cruise
                            </a>
                        </li>
                    </ul>

                    <!-- Sub-Tab Content -->
                    <div class="sub-tab-content" data-sub-tab="ferry">
                        
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <!-- One-way & Round-trip Tabs -->
                            <div class="mb-4 flex gap-2">
                                <button class="trip-type-tab py-2 px-4 rounded-lg active-trip  text-blue-600 font-semibold " data-trip="one-way">One Way</button>
                                <button class="trip-type-tab py-2 px-4 rounded-lg text-blue-600 font-semibold" data-trip="round-trip">Round Trip</button>
                            </div>
                        
                            <!-- Labels Grid -->
                            <div class="grid grid-cols-7 gap-2 pt-1 items-center">
                                <div class="col-span-1"><p class="px-2 text-left font-semibold color-text">From</p></div>
                                <div class="col-span-1"><p class="px-2 text-left font-semibold color-text">To</p></div>
                                <div class="col-span-1"><p class="px-2 text-left font-semibold color-text">Departure Date</p></div>
                                <div class="col-span-1"><p class="px-2 text-left font-semibold color-text">Return Date</p></div>
                                <div class="col-span-2"><p class="px-2 text-left font-semibold color-text">Customer</p></div>
                                <div class="col-span-1"></div>
                            </div>
                        
                            <!-- Inputs Grid -->
                            <div class="grid grid-cols-7 gap-2 pt-1 items-center custom-border">
                                <!-- From -->
                                <div class="col-span-1">
                                    <select class="w-full p-2 border rounded-lg custom-border border-2">
                                        <option value="">Departure</option>
                                        <option value="portA">Port A</option>
                                        <option value="portB">Port B</option>
                                    </select>
                                </div>
                        
                                <!-- To -->
                                <div class="col-span-1">
                                    <select class="w-full p-2 border rounded-lg custom-border border-2">
                                        <option value=""> Destination</option>
                                        <option value="portX">Port X</option>
                                        <option value="portY">Port Y</option>
                                    </select>
                                </div>
                        
                                <!-- Departure Date -->
                                <div class="col-span-1">
                                    <input type="date" class="w-full p-2 border rounded-lg custom-border border-2" id="departure-date">
                                </div>
                        
                                <!-- Return Date (Disabled by Default) -->
                                <div id="return-date-container" class="col-span-1">
                                    <input type="date" class="w-full p-2 border rounded-lg custom-border border-2" disabled>
                                </div>
                        
                                <!-- Customer (Adults & Children) -->
                                <!-- Passenger Selection Column for ferry -->
                                <div class="col-span-2 relative">
                                    <!-- Input Field -->
                                    <input 
                                        class="w-full p-2 border-2 custom-border rounded-lg cursor-pointer"
                                        id="passengerDetails" name="passengerDetails" readonly value="1 Adult, 0 Children"
                                        onclick="toggleDropdowns()"
                                    >
                                    
                                    <!-- Dropdown List for Adult and Child Selection -->
                                    <div id="passengerDropdown" class="absolute z-10 w-full bg-white border border-gray-200 rounded-lg shadow-lg mt-2 hidden">
                                        <!-- Adult Selector -->
                                        <div class="flex items-center justify-between p-3 border-b">
                                            <span>Adults</span>
                                            <div class="flex items-center">
                                                <button type="button" class="decrease-adult bg-gray-200 p-2 rounded-lg" onclick="updateCounts('adults', -1)">-</button>
                                                <input type="text" id="adultCounts" value="1" class="w-12 text-center mx-2 p-2 border-2 rounded-xl" readonly>
                                                <button type="button" class="increase-adult bg-gray-200 p-2 rounded-lg" onclick="updateCounts('adults', 1)">+</button>
                                            </div>
                                        </div>
                                        
                                        <!-- Children Selector -->
                                        <div class="flex items-center justify-between p-3 border-b">
                                            <span>Children</span>
                                            <div class="flex items-center">
                                                <button type="button" class="decrease-child bg-gray-200 p-2 rounded-lg" onclick="updateCounts('childs', -1)">-</button>
                                                <input type="text" id="childCounts" value="0" class="w-12 text-center mx-2 p-2 border-2 rounded-xl" readonly>
                                                <button type="button" class="increase-child bg-gray-200 p-2 rounded-lg" onclick="updateCounts('childs', 1)">+</button>
                                            </div>
                                        </div>

                        

                                        <!-- Done Button -->
                                        <div class="p-3">
                                            <button class="w-full bg-blue-500 text-white p-3 rounded-lg" onclick="doneSelections()">Done</button>
                                        </div>
                                    </div>
                                </div>
                        
                                <!-- Search Button -->
                                <div class="col-span-1">
                                    <button class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition">Search</button>
                                </div>
                                
                            </div>
                            <div class="w-1/12 mt-2">
                                <button class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition">Schedule</button>
                            </div>
                        </div>
                    </div>
                    <div class="sub-tab-content hidden" data-sub-tab="roro">
                        <p>RORO Booking Content Here</p>
                    </div>
                    <div class="sub-tab-content hidden" data-sub-tab="cruise">
                        <p>Cruise Booking Content Here</p>
                    </div>
                </div>
                        
              
            </div>
        </div>
    </div>



   
</body>


</html>

    <!-- Include the JavaScript file -->
    <script src="{% static 'javascript/tabs.js' %}"></script>
<!-- Include Flatpickr JS -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>


<!-- Include Font Awesome for Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

<!-- Include Flatpickr CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">




<script>
    // Initialize Flatpickr on both date inputs
    flatpickr("#departureDate", {
        dateFormat: "d/m/Y", // Set the date format to dd/mm/yyyy
    });

    flatpickr("#returnDate", {
        dateFormat: "d/m/Y", // Set the date format to dd/mm/yyyy
    });
</script>


<!-- tab -->
<script>
document.querySelectorAll(".tab-link").forEach(tab => {
    tab.addEventListener("click", function () {
        let targetTab = this.getAttribute("data-tab");

        if (!targetTab) {
            return; // If no data-tab, just navigate to the URL
        }

        // Hide all tab content
        document.querySelectorAll(".tab-content").forEach(content => {
            content.style.display = "none";
        });

        // Show the clicked tab's content
        let targetContent = document.querySelector(`[data-tab="${targetTab}"]`);
        if (targetContent) {
            targetContent.style.display = "block";
        }
    });
});
</script>

<!-- main tab -->
<script>
document.addEventListener("DOMContentLoaded", function () {
    // Handle main tabs
    const tabs = document.querySelectorAll(".tab-link");
    const tabContents = document.querySelectorAll(".tab-content");

    tabs.forEach(tab => {
        tab.addEventListener("click", function () {
            // Remove active class from all tabs
            tabs.forEach(t => t.classList.remove("active-tab"));
            this.classList.add("active-tab");

            // Hide all tab contents
            tabContents.forEach(content => content.classList.add("hidden"));

            // Show the clicked tab's content
            const tabName = this.getAttribute("data-tab");
            const activeTabContent = document.querySelector(`.tab-content[data-tab="${tabName}"]`);
            activeTabContent.classList.remove("hidden");

            // Reset tab data when switching tabs
            resetTabData(activeTabContent);

            // If SEA TRANSPORT is clicked, activate the first sub-tab
            if (tabName === "sea-transport") {
                const firstSubTab = activeTabContent.querySelector(".sub-tab-link[data-sub-tab='ferry']");
                if (firstSubTab) {
                    firstSubTab.classList.add("active-sub-tab");

                    // Show the first sub-tab's content
                    const firstSubTabContent = document.querySelector(`.sub-tab-content[data-sub-tab='ferry']`);
                    if (firstSubTabContent) {
                        firstSubTabContent.classList.remove("hidden");
                    }
                }
            }
        });
    });

    // Handle sub-tabs
    const subTabs = document.querySelectorAll(".sub-tab-link");
    const subTabContents = document.querySelectorAll(".sub-tab-content");

    subTabs.forEach(subTab => {
        subTab.addEventListener("click", function () {
            // Remove active class from all sub-tabs
            subTabs.forEach(t => t.classList.remove("active-sub-tab"));
            this.classList.add("active-sub-tab");

            // Hide all sub-tab contents
            subTabContents.forEach(content => content.classList.add("hidden"));

            // Show the clicked sub-tab's content
            const subTabName = this.getAttribute("data-sub-tab");
            document.querySelector(`.sub-tab-content[data-sub-tab="${subTabName}"]`).classList.remove("hidden");
        });
    });


        // Trip type functionality
    const tripTabs = document.querySelectorAll(".trip-type-tab");
    const returnDateInput = document.querySelector("#return-date-container input");

    tripTabs.forEach(tab => {
        tab.addEventListener("click", function () {
            tripTabs.forEach(t => t.classList.remove("active-trip"));
            this.classList.add("active-trip");

            if (this.dataset.trip === "one-way") {
                returnDateInput.disabled = true; // Disable return date
            } else {
                returnDateInput.disabled = false; // Enable return date
            }
        });
    });

    function resetTabData(tabContent) {
        if (!tabContent) return;

        // Reset all input fields except for specific ones
        tabContent.querySelectorAll("input").forEach(input => {
            if (!["roomDetails", "passengerDetails", "adultCounts", "childCounts", "adultCount", "childCount", "roomCount"].includes(input.id)) {
                input.value = "";
            }
        });

        // Reset dropdowns (select elements)
        tabContent.querySelectorAll("select").forEach(select => {
            select.selectedIndex = 0;
        });

        // Remove active states from sub-tabs
        tabContent.querySelectorAll(".sub-tab-link").forEach(subTab => {
            subTab.classList.remove("active-sub-tab");
        });

        // Hide all sub-tab contents
        tabContent.querySelectorAll(".sub-tab-content").forEach(content => {
            content.classList.add("hidden");
        });

        // Reset trip type selection
        // tripTabs.forEach(tab => tab.classList.remove("active-trip"));
        // returnDateInput.disabled = false; // Enable return date by default

        // Ensure adult and child counts have default values
        //ferry
        document.getElementById("adultCounts").value = "1";
        document.getElementById("childCounts").value = "0";
        // room
        document.getElementById("adultCount").value = "2";
        document.getElementById("childCount").value = "0";
        document.getElementById("roomCount").value = "1";

        // Update the roomDetails input field dynamically
        updateRoomDetails();
        updateFerryDetails();
    }

    // Function to update room details display
    function updateRoomDetails() {
        const rooms = document.getElementById("roomCount").value;
        const adults = document.getElementById("adultCount").value;
        const children = document.getElementById("childCount").value;

        document.getElementById("roomDetails").value = `${rooms} Room${rooms > 1 ? "s" : ""}, ${adults} Adult${adults > 1 ? "s" : ""}, ${children} Child${children > 1 ? "ren" : ""}`;
    }

    function updateFerryDetails(){

        const adult = document.getElementById("adultCounts").value;
        const childrens = document.getElementById("childCounts").value;

        document.getElementById("passengerDetails").value = `${adult} Adult${adult > 1 ? "s" : ""}, ${childrens} Child${childrens > 1 ? "ren" : ""}`;
    }
});
</script>




<!-- all function tab -->
<script>
    
document.addEventListener("DOMContentLoaded", function() {
    const tabLinks = document.querySelectorAll('.tab-link');
    const tabContents = document.querySelectorAll('.tab-content');

    // Function to activate a tab
    function activateTab(tabName) {
        // Remove active state from all links and hide all contents
        tabLinks.forEach(link => link.classList.remove('border-blue-600'));
        tabContents.forEach(content => content.style.display = "none");

        // Activate the clicked tab and show the corresponding content
        const activeLink = document.querySelector(`[data-tab="${tabName}"]`);
        const activeContent = document.querySelector(`.tab-content[data-tab="${tabName}"]`);

        if (activeLink) {
            activeLink.classList.add('border-blue-600');
        }
        if (activeContent) {
            activeContent.style.display = "block";
        }
    }

    // Set HOTEL as the default tab on page load
    activateTab('ferry');

    // Add event listener to each tab link
    tabLinks.forEach(link => {
        link.addEventListener('click', function(event) {
            event.preventDefault();
            const tabName = this.getAttribute('data-tab');
            activateTab(tabName);
        });
    });
});


// date range
document.addEventListener('DOMContentLoaded', function () {
    const dateRangeInput = document.getElementById('dateRange');
    const durationInput = document.getElementById('duration');

    flatpickr(dateRangeInput, {
        mode: "range",
        minDate: 'today', // Set minimum date to today
        dateFormat: "d-m-Y", // Set date format to day-month-year
        onChange: function(selectedDates) {
            if (selectedDates.length === 2) {
                const [startDate, endDate] = selectedDates;
                const duration = Math.ceil((endDate - startDate) / (1000 * 60 * 60 * 24));

                // Format dates to d-m-Y
                const formattedStartDate = startDate.toLocaleDateString('en-GB');
                const formattedEndDate = endDate.toLocaleDateString('en-GB');
                
                // Update the dateRange input with selected dates and duration
                dateRangeInput.value = `${formattedStartDate} to ${formattedEndDate}`;
                
                // Update the duration input with the number of days
                durationInput.value = `${duration} days`;
            } else {
                dateRangeInput.value = '';
                durationInput.value = '0 days';
            }
        }
    });
});


   // Show or hide the dropdown
function toggleDropdown() {
    const dropdown = document.getElementById('roomDropdown');
    const dropdowns = document.getElementById('passengerDropdown');
    dropdown.classList.toggle('hidden');
    dropdowns.classList.toggle('hidden');
}

// Update the counts for rooms, adults, and children
function updateCount(type, change) {
    const roomInput = document.getElementById('roomCount');
    const adultInput = document.getElementById('adultCount');
    const childInput = document.getElementById('childCount');
    
    let roomCount = parseInt(roomInput.value);
    let adultCount = parseInt(adultInput.value);
    let childCount = parseInt(childInput.value);

    if (type === 'room') {
        roomCount = Math.max(1, roomCount + change); // Minimum of 1 room
        roomInput.value = roomCount;
    } else if (type === 'adult') {
        adultCount = Math.max(1, adultCount + change); // Minimum of 1 adult
        adultInput.value = adultCount;
    } else if (type === 'child') {
        childCount = Math.max(0, childCount + change); // Minimum of 0 children
        childInput.value = childCount;
        updateChildAgeDropdowns(childCount);
    }
}

// Function to dynamically add or remove child age dropdowns
function updateChildAgeDropdowns(count) {
    const container = document.getElementById('childAgeContainer');
    container.innerHTML = ''; // Clear existing dropdowns

    // Create a flex container to hold all the child age dropdowns side by side
    const flexContainer = document.createElement('div');
    flexContainer.classList.add('flex', 'flex-wrap', 'gap-4');

    for (let i = 1; i <= count; i++) {
        // Create a new dropdown for each child
        const childDropdown = document.createElement('div');
        childDropdown.classList.add('mb-1', 'flex-grow'); // Flex-grow ensures dropdowns are responsive

        childDropdown.innerHTML = `
            <label for="childAge${i}" class="block text-gray-800 font-semibold mb-2">Child ${i} Age</label>
            <select id="childAge${i}" name="childAge${i}" class="w-full p-3 border-2 custom-border rounded-xl focus:ring-2 focus:ring-blue-500 focus:outline-none">
                <option value="" disabled selected>Age</option>
                ${Array.from({ length: 13 }, (_, j) => `<option value="${j}">${j}</option>`).join('')}
            </select>`;
        
        // Append the new dropdown to the flex container
        flexContainer.appendChild(childDropdown);
    }

    // Append the flex container to the main container
    container.appendChild(flexContainer);
}

// Function to handle the Done button click
function doneSelection() {
    const roomCount = document.getElementById('roomCount').value;
    const adultCount = document.getElementById('adultCount').value;
    const childCount = document.getElementById('childCount').value;

    // Update the input field with the selected values
    document.getElementById('roomDetails').value = `${roomCount} Room, ${adultCount} Adult${adultCount > 1 ? 's' : ''}, ${childCount} Children`;

    // Hide the dropdown
    document.getElementById('roomDropdown').classList.add('hidden');
}


// Show or hide the passenger dropdown
function toggleDropdowns() {
    const dropdown = document.getElementById('passengerDropdown');
    dropdown.classList.toggle('hidden');
}

// Update the counts for adults and children
function updateCounts(type, change) {
    const adultInput = document.getElementById('adultCounts');
    const childInput = document.getElementById('childCounts');

    let adultCount = parseInt(adultInput.value);
    let childCount = parseInt(childInput.value);

    if (type === 'adults') {
        adultCount = Math.max(1, adultCount + change); // Minimum of 1 adult
        adultInput.value = adultCount;
    } else if (type === 'childs') {
        childCount = Math.max(0, childCount + change); // Minimum of 0 children
        childInput.value = childCount;
    }
}

// Function to handle the Done button click
function doneSelections() {
    const adultCount = document.getElementById('adultCounts').value;
    const childCount = document.getElementById('childCounts').value;

    // Update the input field with the selected values
    document.getElementById('passengerDetails').value = `${adultCount} Adult${adultCount > 1 ? 's' : ''}, ${childCount} Children`;

    // Hide the dropdown
    document.getElementById('passengerDropdown').classList.add('hidden');
}

// Close dropdown when clicking outside
document.addEventListener('click', function (event) {
    const dropdown = document.getElementById('passengerDropdown');
    const inputField = document.getElementById('passengerDetails');

    if (!dropdown.contains(event.target) && event.target !== inputField) {
        dropdown.classList.add('hidden');
    }
});



// Function to close the dropdown when clicking outside
document.addEventListener("click", function(event) {
    const roomDropdown = document.getElementById("roomDropdown");
    const roomInput = document.getElementById("roomDetails");
    
    const passengerDropdown = document.getElementById("passengerDropdown");
    const passengerInput = document.getElementById("passengerDetails");

    // Check if the click is outside the dropdown and input field
    if (!roomDropdown.contains(event.target) && !roomInput.contains(event.target)) {
        roomDropdown.classList.add("hidden");
    }

    if (!passengerDropdown.contains(event.target) && !passengerInput.contains(event.target)) {
        passengerDropdown.classList.add("hidden");
    }
});

// Toggle function to show/hide dropdown
function toggleDropdown() {
    document.getElementById("roomDropdown").classList.toggle("hidden");
}

function toggleDropdowns() {
    document.getElementById("passengerDropdown").classList.toggle("hidden");
}

document.addEventListener('DOMContentLoaded', function() {
    const input = document.getElementById('hotel');
    const suggestionList = document.getElementById('suggestions');

    input.addEventListener('input', function () {
        const query = this.value;
        if (query.length < 3) {
            suggestionList.classList.add('hidden');
            return; // Start search after 3 characters
        }

        fetch(`/autocomplete/?query=${query}`)
            .then(response => response.json())
            .then(data => {
                const suggestions = data.predictions || [];
                suggestionList.innerHTML = '';

                if (suggestions.length > 0) {
                    suggestions.forEach(suggestion => {
                        const li = document.createElement('li');
                        li.textContent = suggestion.description;
                        li.addEventListener('click', function () {
                            input.value = this.textContent;
                            suggestionList.classList.add('hidden');
                        });
                        suggestionList.appendChild(li);
                    });
                    suggestionList.classList.remove('hidden');
                } else {
                    suggestionList.classList.add('hidden');
                }
            })
            .catch(error => console.error('Error fetching autocomplete data:', error));
    });

    document.addEventListener('click', function(event) {
        if (!input.contains(event.target) && !suggestionList.contains(event.target)) {
            suggestionList.classList.add('hidden');
        }
    });
});
</script>


<style>
/* Default active tab styling */
.active-tab {
    background-color: #009A00;
    color: white;
}

.active-sub-tab,.active-trip {
    background-color: #009A00;
    color: white;
}

/* Hover effect for all tabs (including active ones) */

</style>